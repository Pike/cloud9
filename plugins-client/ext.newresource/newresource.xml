<a:application xmlns:a="http://ajax.org/2005/aml">
    <a:window
      id        = "winNewFileTemplate"
      title     = "New File of Type"
      icon      = ""
      center    = "true"
      width     = "350"
      height    = "300"
      skin      = "bk-window2"
      resizable = "true"
      kbclose   = "true"
      buttons   = "close"
      draggable = "true">
        <a:vbox padding="10" anchors="0 0 0 0">

            <a:list id="lstFileTemplates"
              model     = "mdlFileTemplates"
              flex      = "1"
              margin    = "10 10 10 10"
              caption   = "[@caption]"
              icon      = "[@icon]"
              class     = "noscrollbar"
              scrollbar = "sbShared 12 12 55"
              each      = "item"
              eachvalue = "[@value]"
              style     = "overflow:hidden"
              onafterchoose = "
                btnFileTemplateSave.dispatchEvent('click');
              " />
            <a:hbox pack="end" padding="7" edge="10">
                <a:button id="btnFileTemplateSave" width="80" default="2"
                  class="btn-green" skin="btn-default-css3" caption="Create"
                  onclick="
                    require('ext/newresource/newresource').newfile(
                        '.' + lstFileTemplates.value,
                        lstFileTemplates.selected.firstChild.nodeValue
                    );
                    winNewFileTemplate.hide();
                  "/>
                <a:button id="btnFileTemplateCancel" skin="btn-default-css3" width="80"
                  onclick="winNewFileTemplate.hide()">Cancel</a:button>
            </a:hbox>
        </a:vbox>
    </a:window>

    <a:model id="mdlFileTemplates">
        <templates>
            <item value="txt" icon="page_white_text.png" caption="Text file"><![CDATA[]]></item>
            <item value="js" icon="page_white_code.png" caption="JavaScript file"><![CDATA[]]></item>
            <item value="html" icon="html.png" caption="HTML file"><![CDATA[<!DOCTYPE html>
<html>
    <head>
        <title> </title>
    </head>
    <body>

    </body>
</html>
]]></item>
            <item value="xml" icon="page_white_code_red.png" caption="XML file"><![CDATA[]]></item>
            <item value="css" icon="css.png" caption="CSS file"><![CDATA[]]></item>
            <item value="svg" icon="page_white_picture.png" caption="SVG file"><![CDATA[]]></item>
        </templates>
    </a:model>
</a:application>
